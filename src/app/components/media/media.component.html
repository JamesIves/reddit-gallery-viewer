<div *ngIf="content" class="pb-[32px] h-[{{ size }}px] block overflow-hidden">
  <div class="h-full w-full rounded-lg bg-slate-200 p-2 pb-7 sm:p-4 sm:pb-7">
    <img
      class="h-full w-full bg-slate-950 object-contain"
      data-testid="media-image"
      [alt]="content.title"
      *ngIf="
        content.preview &&
        content.preview.images.length &&
        content.post_hint === redditPostHint.IMAGE
      "
      [src]="imageSrc"
      (error)="onImageError()"
    />

    <video
      *ngIf="
        content.preview &&
        content.preview.reddit_video_preview &&
        content.post_hint === redditPostHint.LINK
      "
      data-testid="media-video"
      class="mx-auto h-full w-auto bg-slate-950 object-contain"
      autoplay
      loop
      muted
    >
      <source [src]="content.preview.reddit_video_preview.fallback_url" />
    </video>

    <iframe
      class="h-full w-full bg-slate-950"
      data-testid="media-iframe"
      *ngIf="
        content.post_hint === redditPostHint.RICH_VIDEO &&
        content.secure_media_embed
      "
      [src]="content.secure_media_embed.media_domain_url | trustResource"
    ></iframe>

    <div class="overflow-hidden truncate text-sm font-bold text-slate-600">
      <a
        class="inline-block text-indigo-700 transition-colors hover:text-indigo-500"
        rel="noopener noreferrer"
        target="_blank"
        [href]="content.url"
        >Source </a
      >,
      <a
        class="inline-block text-indigo-700 transition-colors hover:text-indigo-500"
        rel="noopener noreferrer"
        target="_blank"
        href="https://reddit.com/u/{{ content.author }}"
        >u/{{ content.author }}</a
      >
      - {{ content.title }}
    </div>
  </div>
</div>
